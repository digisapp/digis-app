/* src/index.css */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');

/* Import new unified design system */
@import './styles/design-tokens.css';
@import './styles/utilities.css';

/* Import legacy styles for gradual migration */
@import './styles/enhanced-landing.css';
@import './styles/improved-design-system.css';
@import './styles/toast-animations.css';
@import './styles/tiers.css';

/* Import mobile enhancements - ordered from base to specific */
@import './styles/mobile-critical.css'; /* Critical mobile fixes */
@import './styles/streaming-layout.css';
/* @import './styles/mobile-enhancements.css'; */ /* Disabled - conflicts with newer styles */
/* @import './styles/next-level-mobile.css'; */ /* Disabled - conflicts with newer styles */
@import './styles/mobile-viewport-fix.css'; /* Viewport specific fixes */
@import './styles/mobile-overlay-fix.css'; /* Fix for black overlay issues */
@import './styles/mobile-typography.css'; /* Consistent typography system */
@import './styles/mobile-scrollbar-hide.css'; /* Hide scrollbars for horizontal scroll areas */
@import './styles/mobile-nav-2025.css'; /* 2025 ultra-modern navigation - LATEST */
@import './styles/mobile-nav-override.css'; /* Navigation override fixes - MUST BE LAST */
@import './styles/mobile-homepage-fix.css'; /* Homepage mobile specific fixes - FINAL OVERRIDES */
@import './styles/mobile-landing-fix.css'; /* Mobile landing page viewport fixes */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Shimmer animation for buttons */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  animation: shimmer 2s linear infinite;
}

/* Respect user's motion preferences for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Keep essential visibility animations */
  .animate-pulse {
    animation: none;
    opacity: 0.8;
  }
}

/* Improved touch targets for mobile */
@media (max-width: 768px) {
  button,
  a,
  .touchable {
    min-height: 44px;
    min-width: 44px;
  }

  /* Prevent accidental swipes during streaming */
  .stream-container {
    touch-action: pan-y;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Better spacing for mobile chat */
  .chat-input {
    padding-bottom: env(safe-area-inset-bottom, 20px);
  }
}

/* Safe area utilities for mobile devices */
@layer utilities {
  /* Content spacing below fixed navigation */
  @media (min-width: 768px) {
    .content-below-nav {
      padding-top: calc(var(--nav-height) + var(--nav-gap));
    }
  }

  /* Scroll margin for anchor links with sticky nav */
  [id] {
    scroll-margin-top: calc(var(--nav-height) + 12px);
  }

  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .pl-safe {
    padding-left: env(safe-area-inset-left);
  }
  .pr-safe {
    padding-right: env(safe-area-inset-right);
  }
  .px-safe {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  .py-safe {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  /* Line clamp utility */
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  
  /* Smooth scrolling for mobile */
  .scroll-smooth {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
  
  /* Prevent text selection on buttons */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
}

/* Shimmer animation for buttons */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  animation: shimmer 3s linear infinite;
}

/* Hide scrollbar but keep scroll functionality */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* Critical Mobile Fixes */
@layer base {
  /* Prevent iOS zoom on input focus - CRITICAL */
  input[type="text"],
  input[type="email"],
  input[type="number"],
  input[type="password"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  textarea,
  select {
    font-size: 16px !important;
  }
  
  /* Ensure minimum touch target size */
  button, 
  a,
  [role="button"] {
    min-height: 44px;
  }
  
  /* Prevent text selection on UI elements */
  button,
  nav,
  [role="button"] {
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Smooth scrolling with momentum */
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
}

/* Gradient animations */
@keyframes gradient-x {
  0%, 100% {
    background-position: left center;
  }
  50% {
    background-position: right center;
  }
}

.animate-gradient-x {
  animation: gradient-x 3s ease infinite;
  background-size: 200% 200%;
}

/* Dark mode support layer */
@layer base {
  /* Apply dark mode to root elements */
  :root {
    color-scheme: light dark;
  }
  
  /* Body dark mode transitions */
  body {
    @apply bg-white dark:bg-gray-900 text-gray-900 dark:text-white;
    @apply transition-colors duration-300;
  }
  
  /* Design token classes for dark mode */
  .bg-surface {
    @apply bg-white dark:bg-gray-800;
  }
  
  .bg-surface-elevated {
    @apply bg-gray-50 dark:bg-gray-700;
  }
  
  .text-primary {
    @apply text-gray-900 dark:text-white;
  }
  
  .text-secondary {
    @apply text-gray-600 dark:text-gray-400;
  }
  
  .border-neutral-100 {
    @apply border-gray-100 dark:border-gray-800;
  }
  
  .border-neutral-200 {
    @apply border-gray-200 dark:border-gray-700;
  }
  
  /* Glass morphism with dark mode */
  .glass-medium {
    @apply bg-white/80 dark:bg-gray-800/80 backdrop-blur-md;
  }
  
  .glass-dark {
    @apply bg-gray-900/80 dark:bg-black/80 backdrop-blur-md;
  }
  
  .glass-heavy {
    @apply bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg;
  }
  
  /* Cards and surfaces */
  .card {
    @apply bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700;
  }
  
  /* Inputs */
  input, textarea, select {
    @apply bg-white dark:bg-gray-800 text-gray-900 dark:text-white;
    @apply border-gray-300 dark:border-gray-600;
    @apply placeholder-gray-400 dark:placeholder-gray-500;
  }
  
  /* Buttons - maintain contrast in dark mode */
  .btn-primary {
    @apply bg-purple-600 hover:bg-purple-700 text-white;
  }
  
  .btn-secondary {
    @apply bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600;
    @apply text-gray-900 dark:text-white;
  }
}

/* Hide scrollbar but keep scroll functionality */
@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
}

/* Shimmer Animation for Goal Meter */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}

.animate-shimmer {
  animation: shimmer 2s infinite;
}

/* Blob Animation for Creator Cards */
@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* Subtle pulse animation for chat button */
@keyframes pulse-subtle {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.9;
    transform: scale(1.05);
  }
}

.animate-pulse-subtle {
  animation: pulse-subtle 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@layer base {
  :root {
    /* Navigation Layout Variables */
    --nav-height: 80px;  /* Desktop navigation height (5rem = 80px from DesktopNav2025) */
    --nav-gap: 32px;     /* Visual breathing room below nav (increased for better spacing) */

    /* Miami Beach Luxury Color Palette */
    --miami-cyan: #00d4ff;
    --miami-magenta: #ff006e;
    --miami-coral: #ff6b35;
    --miami-lime: #39ff14;
    --miami-purple: #8b5cf6;
    --miami-gold: #ffd700;
    --miami-sunset: #ff5e5b;
    --miami-ocean: #0077be;
    
    /* Primary Gen Z Colors */
    --primary: #00d4ff;
    --primary-dark: #0099cc;
    --primary-gradient: linear-gradient(135deg, #00d4ff 0%, #ff006e 50%, #8b5cf6 100%);
    --secondary-gradient: linear-gradient(135deg, #ff6b35 0%, #ffd700 100%);
    --accent-gradient: linear-gradient(135deg, #39ff14 0%, #00d4ff 100%);
    
    /* Luxury Gradients */
    --luxury-sunset: linear-gradient(135deg, #ff5e5b 0%, #ff006e 50%, #8b5cf6 100%);
    --luxury-ocean: linear-gradient(135deg, #0077be 0%, #00d4ff 50%, #39ff14 100%);
    --luxury-gold: linear-gradient(135deg, #ffd700 0%, #ff6b35 100%);
    --neon-glow: linear-gradient(135deg, #39ff14 0%, #00d4ff 50%, #ff006e 100%);
    
    /* Semantic Colors with Miami Vibe */
    --secondary: #8b5cf6;
    --success: #39ff14;
    --warning: #ffd700;
    --danger: #ff006e;
    --info: #00d4ff;
    --live: #ff5e5b;
    
    /* Backgrounds */
    --bg-light: linear-gradient(135deg, #fafbff 0%, #f0f4ff 100%);
    --bg-dark: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 100%);
    --bg-card-light: rgba(255, 255, 255, 0.95);
    --bg-card-dark: rgba(20, 20, 40, 0.95);
    
    /* Text Colors */
    --text-light: #1a1a2e;
    --text-dark: #ffffff;
    --text-muted-light: #6b7280;
    --text-muted-dark: #9ca3af;
    --text-accent: #00d4ff;
    
    /* Borders */
    --border-light: rgba(0, 212, 255, 0.2);
    --border-dark: rgba(139, 92, 246, 0.3);
    --border-glow: rgba(57, 255, 20, 0.4);
    
    /* Shadows & Effects */
    --shadow-light: 0 4px 20px rgba(0, 212, 255, 0.15);
    --shadow-dark: 0 4px 20px rgba(139, 92, 246, 0.2);
    --glow-cyan: 0 0 20px rgba(0, 212, 255, 0.5);
    --glow-magenta: 0 0 20px rgba(255, 0, 110, 0.5);
    --glow-lime: 0 0 20px rgba(57, 255, 20, 0.5);
    
    /* Glass Morphism */
    --glass-bg: rgba(255, 255, 255, 0.1);
    --glass-bg-dark: rgba(30, 30, 60, 0.2);
    --glass-border: rgba(255, 255, 255, 0.2);
    --glass-blur: blur(20px);
  }

  * {
    @apply m-0 p-0 box-border;
    scrollbar-width: thin;
    scrollbar-color: #9ca3af #e5e7eb;
  }

  @media (prefers-color-scheme: dark) {
    * {
      scrollbar-color: #6b7280 #1f2937;
    }
  }

  body {
    background: var(--bg-light);
    @apply font-sans antialiased text-[var(--text-light)] leading-relaxed transition-all duration-500;
    min-height: 100vh;
    position: relative;
  }
  
  /* Background bubbles removed per user request */
  /* body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
      radial-gradient(circle at 20% 20%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(255, 0, 110, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 40% 70%, rgba(57, 255, 20, 0.05) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
  } */

  @media (prefers-color-scheme: dark) {
    body {
      background: var(--bg-dark);
      @apply text-[var(--text-dark)];
    }
    
    /* Dark mode background bubbles removed per user request */
    /* body::before {
      background:
        radial-gradient(circle at 20% 20%, rgba(0, 212, 255, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(255, 0, 110, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 70%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
    } */
  }

  code {
    @apply font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-sm;
  }
}

@layer components {
  /* Custom scrollbar for WebKit browsers */
  ::-webkit-scrollbar {
    @apply w-3 h-3;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800 rounded-full;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
  }

  /* Miami Luxury Animation keyframes */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(30px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  @keyframes slideInRight {
    from { opacity: 0; transform: translateX(100%) scale(0.9); }
    to { opacity: 1; transform: translateX(0) scale(1); }
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); box-shadow: var(--glow-cyan); }
    50% { transform: scale(1.05); box-shadow: var(--glow-magenta); }
  }

  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-20px); }
    60% { transform: translateY(-10px); }
  }

  @keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-6px); }
    20%, 40%, 60%, 80% { transform: translateX(6px); }
  }

  @keyframes gradientFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  @keyframes neonGlow {
    0%, 100% { 
      box-shadow: var(--glow-cyan);
      border-color: var(--miami-cyan);
    }
    33% { 
      box-shadow: var(--glow-magenta);
      border-color: var(--miami-magenta);
    }
    66% { 
      box-shadow: var(--glow-lime);
      border-color: var(--miami-lime);
    }
  }
  
  @keyframes floatUp {
    0% {
      opacity: 0;
      transform: translateY(20px) scale(0.8);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  @keyframes shimmer {
    0% {
      background-position: -200% center;
    }
    100% {
      background-position: 200% center;
    }
  }
  
  @keyframes gradient-x {
    0%, 100% { 
      transform: translateX(0%); 
    }
    50% { 
      transform: translateX(100%); 
    }
  }

  /* Miami Luxury Animation classes */
  .fade-in {
    animation: fadeIn 0.8s ease-out forwards;
  }

  .slide-in-right {
    animation: slideInRight 0.8s ease-out forwards;
  }

  .pulse {
    animation: pulse 2s infinite;
  }

  .bounce {
    animation: bounce 1.2s infinite;
  }

  .rotate {
    animation: rotate 2s linear infinite;
  }

  .shake {
    animation: shake 0.6s ease-in-out;
  }

  .gradient-flow {
    background-size: 200% 200%;
    animation: gradientFlow 4s ease infinite;
  }
  
  .neon-glow {
    animation: neonGlow 3s ease-in-out infinite;
  }
  
  .float-up {
    animation: floatUp 0.6s ease-out forwards;
  }
  
  .shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.4) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }
  
  .animate-gradient-x {
    animation: gradient-x 3s ease infinite;
  }
  
  .hover-glow:hover {
    box-shadow: var(--glow-cyan);
    transform: translateY(-5px) scale(1.02);
  }
  
  @media (prefers-color-scheme: dark) {
    .hover-glow:hover {
      box-shadow: var(--glow-magenta);
    }
  }

  /* Miami Luxury Button component */
  .btn {
    @apply px-6 py-3 sm:px-8 sm:py-4 rounded-2xl font-bold text-sm sm:text-base transition-all duration-500 flex items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 focus:outline-none relative overflow-hidden;
    min-height: 50px;
    backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    position: relative;
  }
  
  .btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s;
  }
  
  .btn:hover::before {
    left: 100%;
  }

  .btn-primary {
    background: var(--primary-gradient);
    @apply text-white shadow-[var(--glow-cyan)] hover:shadow-[var(--glow-magenta)] transform hover:scale-105;
    box-shadow: var(--glow-cyan);
  }
  
  .btn-primary:hover {
    box-shadow: var(--glow-magenta);
    background: var(--luxury-sunset);
  }

  .btn-success {
    background: var(--accent-gradient);
    @apply text-white shadow-[var(--glow-lime)] hover:shadow-[var(--glow-cyan)] transform hover:scale-105;
    box-shadow: var(--glow-lime);
  }
  
  .btn-success:hover {
    background: var(--luxury-ocean);
    box-shadow: var(--glow-cyan);
  }

  .btn-danger {
    background: linear-gradient(135deg, var(--miami-magenta) 0%, var(--miami-sunset) 100%);
    @apply text-white shadow-[var(--glow-magenta)] hover:scale-105;
    box-shadow: var(--glow-magenta);
  }
  
  .btn-danger:hover {
    background: var(--luxury-sunset);
  }

  .btn-warning {
    background: var(--luxury-gold);
    @apply text-gray-900 font-bold hover:scale-105;
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
  }

  .btn-info {
    background: var(--luxury-ocean);
    @apply text-white shadow-[var(--glow-cyan)] hover:scale-105;
    box-shadow: var(--glow-cyan);
  }

  .btn-secondary {
    background: var(--glass-bg);
    @apply text-[var(--text-light)] dark:text-[var(--text-dark)] border border-[var(--border-light)] dark:border-[var(--border-dark)] hover:scale-105;
    backdrop-filter: var(--glass-blur);
  }
  
  .btn-secondary:hover {
    background: var(--secondary-gradient);
    @apply text-white;
    border-color: var(--miami-coral);
  }

  .btn-ghost {
    @apply bg-transparent border-2 border-[var(--miami-cyan)] text-[var(--miami-cyan)] hover:bg-[var(--miami-cyan)] hover:text-white hover:scale-105;
    backdrop-filter: var(--glass-blur);
  }
  
  @media (prefers-color-scheme: dark) {
    .btn-ghost {
      @apply border-[var(--miami-magenta)] text-[var(--miami-magenta)] hover:bg-[var(--miami-magenta)];
    }
  }

  /* Miami Luxury Card component */
  .card {
    background: var(--bg-card-light);
    @apply border border-[var(--border-light)] dark:border-[var(--border-dark)] rounded-3xl p-6 sm:p-8 transition-all duration-500 hover:-translate-y-2 relative overflow-hidden;
    backdrop-filter: var(--glass-blur);
    box-shadow: var(--shadow-light);
  }
  
  .card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: var(--neon-glow);
    opacity: 0.6;
  }
  
  .card:hover {
    box-shadow: var(--glow-cyan);
    border-color: var(--miami-cyan);
  }
  
  @media (prefers-color-scheme: dark) {
    .card {
      background: var(--bg-card-dark);
      box-shadow: var(--shadow-dark);
    }
    
    .card:hover {
      box-shadow: var(--glow-magenta);
      border-color: var(--miami-magenta);
    }
  }

  .card-glass {
    background: var(--glass-bg);
    @apply border border-[var(--glass-border)] rounded-3xl p-6 sm:p-8 relative;
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    box-shadow: 
      0 8px 32px rgba(0, 212, 255, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  
  @media (prefers-color-scheme: dark) {
    .card-glass {
      background: var(--glass-bg-dark);
      box-shadow: 
        0 8px 32px rgba(139, 92, 246, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }
  }

  @supports not (backdrop-filter: blur(20px)) {
    .card-glass {
      background: rgba(255, 255, 255, 0.95);
    }
    
    @media (prefers-color-scheme: dark) {
      .card-glass {
        background: rgba(30, 30, 60, 0.95);
      }
    }
  }

  /* Alert component */
  .alert {
    @apply p-6 rounded-2xl mb-8 flex items-start gap-4 shadow-xl border-2 backdrop-blur-md;
    background: var(--glass-bg);
  }

  .alert-success {
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.1) 0%, rgba(0, 212, 255, 0.05) 100%);
    @apply text-[var(--miami-lime)] border-[var(--miami-lime)];
    box-shadow: var(--glow-lime);
  }

  .alert-danger {
    background: linear-gradient(135deg, rgba(255, 0, 110, 0.1) 0%, rgba(255, 94, 91, 0.05) 100%);
    @apply text-[var(--miami-magenta)] border-[var(--miami-magenta)];
    box-shadow: var(--glow-magenta);
  }

  .alert-warning {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 107, 53, 0.05) 100%);
    @apply text-[var(--miami-gold)] border-[var(--miami-gold)];
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
  }

  .alert-info {
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(0, 119, 190, 0.05) 100%);
    @apply text-[var(--miami-cyan)] border-[var(--miami-cyan)];
    box-shadow: var(--glow-cyan);
  }

  /* Miami Luxury Loading spinner */
  .loading-spinner {
    @apply inline-block border-4 rounded-full animate-[rotate_1s_linear_infinite] relative;
    border: 4px solid transparent;
    background: 
      linear-gradient(white, white) padding-box,
      var(--neon-glow) border-box;
  }
  
  @media (prefers-color-scheme: dark) {
    .loading-spinner {
      background: 
        linear-gradient(var(--bg-dark), var(--bg-dark)) padding-box,
        var(--luxury-sunset) border-box;
    }
  }

  .loading-spinner-sm {
    @apply w-5 h-5 border-2;
  }

  .loading-spinner-lg {
    @apply w-12 h-12 border-8;
  }

  /* Skeleton loading */
  .skeleton {
    @apply bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 bg-[length:200%_100%] animate-[skeleton-loading_1.5s_infinite] rounded;
  }

  .skeleton-text {
    @apply h-4 w-full;
  }

  .skeleton-card {
    @apply h-40 w-full;
  }

  @keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  /* Miami Luxury Form components */
  .form-group {
    @apply mb-8 relative;
  }

  .form-label {
    @apply block mb-3 font-bold text-[var(--text-light)] dark:text-[var(--text-dark)] text-sm tracking-wide uppercase;
    color: var(--miami-cyan);
  }

  .form-control {
    @apply w-full p-5 border-2 rounded-2xl text-base transition-all duration-500 focus:outline-none placeholder:text-gray-400 dark:placeholder:text-gray-500 relative;
    background: var(--glass-bg);
    border-color: var(--border-light);
    backdrop-filter: var(--glass-blur);
    color: var(--text-light);
  }
  
  .form-control:focus {
    border-color: var(--miami-cyan);
    box-shadow: var(--glow-cyan);
    transform: translateY(-2px);
  }
  
  @media (prefers-color-scheme: dark) {
    .form-control {
      background: var(--glass-bg-dark);
      border-color: var(--border-dark);
      color: var(--text-dark);
    }
    
    .form-control:focus {
      border-color: var(--miami-magenta);
      box-shadow: var(--glow-magenta);
    }
  }

  .form-control:invalid[aria-invalid="true"] {
    @apply border-red-500 focus:border-red-500 focus:ring-red-200 dark:focus:ring-red-900/40;
  }

  .form-error {
    @apply absolute -bottom-5 left-0 text-red-500 text-xs flex items-center gap-1;
  }

  /* Miami Luxury Grid system */
  .container {
    @apply max-w-7xl mx-auto;
    @apply px-4 sm:px-6 lg:px-8;
    position: relative;
  }
  
  .container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 1px;
    height: 100%;
    background: linear-gradient(to bottom, 
      transparent 0%, 
      var(--miami-cyan) 20%, 
      var(--miami-magenta) 50%, 
      var(--miami-lime) 80%, 
      transparent 100%);
    opacity: 0.1;
    pointer-events: none;
  }

  .miami-grid {
    display: grid;
    gap: 1rem;
  }
  
  @media (min-width: 640px) {
    .miami-grid {
      gap: 1.5rem;
    }
  }

  .miami-grid-cols-2 {
    grid-template-columns: 1fr;
  }
  
  @media (min-width: 640px) {
    .miami-grid-cols-2 {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .miami-grid-cols-3 {
    grid-template-columns: 1fr;
  }
  
  @media (min-width: 640px) {
    .miami-grid-cols-3 {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  @media (min-width: 1024px) {
    .miami-grid-cols-3 {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .miami-grid-cols-4 {
    grid-template-columns: 1fr;
  }
  
  @media (min-width: 640px) {
    .miami-grid-cols-4 {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  @media (min-width: 1024px) {
    .miami-grid-cols-4 {
      grid-template-columns: repeat(3, 1fr);
    }
  }
  
  @media (min-width: 1280px) {
    .miami-grid-cols-4 {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  /* Mobile-first responsive utilities */
  .mobile-full {
    @apply w-full sm:w-auto;
  }

  .mobile-hidden {
    @apply hidden sm:block;
  }

  .mobile-only {
    @apply block sm:hidden;
  }

  .tablet-hidden {
    @apply block lg:hidden;
  }

  .desktop-only {
    @apply hidden lg:block;
  }

  /* Miami Luxury Status indicators */
  .status-indicator {
    @apply inline-flex items-center gap-3 px-5 py-3 rounded-full text-sm font-bold tracking-wide uppercase backdrop-blur-md;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
  }

  .status-online {
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.2) 0%, rgba(0, 212, 255, 0.1) 100%);
    @apply text-[var(--miami-lime)] border-[var(--miami-lime)] before:content-[''] before:w-3 before:h-3 before:rounded-full;
    border-color: var(--miami-lime);
  }
  
  .status-online::before {
    background: var(--miami-lime);
    box-shadow: 0 0 10px var(--miami-lime);
    animation: pulse 2s infinite;
  }

  .status-offline {
    background: linear-gradient(135deg, rgba(255, 0, 110, 0.2) 0%, rgba(139, 92, 246, 0.1) 100%);
    @apply text-[var(--miami-magenta)] border-[var(--miami-magenta)] before:content-[''] before:w-3 before:h-3 before:rounded-full;
    border-color: var(--miami-magenta);
  }
  
  .status-offline::before {
    background: var(--miami-magenta);
  }

  .status-busy {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 107, 53, 0.1) 100%);
    @apply text-[var(--miami-gold)] border-[var(--miami-gold)] before:content-[''] before:w-3 before:h-3 before:rounded-full;
    border-color: var(--miami-gold);
  }
  
  .status-busy::before {
    background: var(--miami-gold);
    animation: pulse 1.5s infinite;
  }

  /* Miami Luxury Notification component */
  .notification {
    @apply fixed z-[1000] min-w-[320px] max-w-[420px] p-6 rounded-2xl shadow-2xl animate-[slideInRight_0.5s_ease-out] flex items-start gap-4 border-2 backdrop-blur-md;
    background: var(--glass-bg);
  }

  .notification-top-right {
    @apply top-6 right-6;
  }

  .notification-success {
    background: linear-gradient(135deg, rgba(57, 255, 20, 0.15) 0%, rgba(0, 212, 255, 0.1) 100%);
    @apply text-[var(--miami-lime)] border-[var(--miami-lime)];
    box-shadow: var(--glow-lime);
  }

  .notification-error {
    background: linear-gradient(135deg, rgba(255, 0, 110, 0.15) 0%, rgba(255, 94, 91, 0.1) 100%);
    @apply text-[var(--miami-magenta)] border-[var(--miami-magenta)];
    box-shadow: var(--glow-magenta);
  }

  .notification-warning {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(255, 107, 53, 0.1) 100%);
    @apply text-[var(--miami-gold)] border-[var(--miami-gold)];
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
  }

  .notification-info {
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.15) 0%, rgba(0, 119, 190, 0.1) 100%);
    @apply text-[var(--miami-cyan)] border-[var(--miami-cyan)];
    box-shadow: var(--glow-cyan);
  }

  /* Miami Luxury Modal component */
  .modal-overlay {
    @apply fixed inset-0 flex items-center justify-center z-[1000] animate-[fadeIn_0.5s_ease-out] p-4;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(20px);
  }

  .modal-content {
    background: var(--glass-bg);
    @apply rounded-3xl p-6 sm:p-8 lg:p-10 max-w-sm sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl w-full max-h-[90vh] overflow-y-auto shadow-2xl transform scale-100 animate-[floatUp_0.5s_ease-out] relative border-2;
    backdrop-filter: var(--glass-blur);
    border-color: var(--miami-cyan);
    box-shadow: var(--glow-cyan);
  }
  
  @media (prefers-color-scheme: dark) {
    .modal-content {
      background: var(--glass-bg-dark);
      border-color: var(--miami-magenta);
      box-shadow: var(--glow-magenta);
    }
  }

  .modal-close {
    @apply absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors text-2xl;
  }

  /* Miami Luxury Dashboard specific */
  .dashboard-header {
    @apply sticky top-0 z-50 backdrop-blur-2xl shadow-2xl border-b;
    background: var(--glass-bg);
    border-color: var(--border-glow);
    box-shadow: 
      0 4px 20px rgba(0, 212, 255, 0.1),
      0 1px 0 var(--glass-border) inset;
  }
  
  @media (prefers-color-scheme: dark) {
    .dashboard-header {
      background: var(--glass-bg-dark);
      border-color: var(--miami-magenta);
      box-shadow: 
        0 4px 20px rgba(139, 92, 246, 0.15),
        0 1px 0 var(--glass-border) inset;
    }
  }

  .session-preview {
    @apply aspect-video rounded-3xl overflow-hidden shadow-2xl relative border-2;
    border-color: var(--miami-cyan);
    box-shadow: var(--glow-cyan);
  }
  
  .session-preview:hover {
    transform: scale(1.02);
    box-shadow: var(--glow-magenta);
    border-color: var(--miami-magenta);
  }

  .session-overlay {
    @apply absolute inset-0 flex flex-col justify-end p-6;
    background: linear-gradient(to top, 
      rgba(0, 0, 0, 0.8) 0%, 
      rgba(0, 212, 255, 0.1) 50%, 
      transparent 100%);
  }
}

@layer utilities {
  /* Responsive design */
  @screen sm {
    .container {
      @apply px-6;
    }
  }

  @screen lg {
    .container {
      @apply px-8;
    }
  }

  /* Focus styles for accessibility */
  :focus-visible {
    @apply outline outline-2 outline-[var(--primary)] outline-offset-2;
  }

  /* High contrast mode */
  @media (prefers-contrast: high) {
    :root {
      --primary: #0000ff;
      --success: #008000;
      --danger: #ff0000;
      --border-light: #000000;
      --border-dark: #ffffff;
    }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Mobile Video Streaming - Vertical/Portrait Mode */
  .mobile-video-container {
    @apply fixed inset-0 bg-black z-[100];
  }

  /* Portrait orientation for mobile */
  @media (max-width: 768px) and (orientation: portrait) {
    .mobile-video-container {
      width: 100vw;
      height: 100vh;
    }

    /* Remote video fills screen vertically */
    .mobile-video-remote {
      @apply absolute inset-0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Local video PIP in corner */
    .mobile-video-local {
      @apply absolute top-20 right-4 w-24 h-32 rounded-lg overflow-hidden shadow-2xl border-2 border-white/20;
      aspect-ratio: 9/16;
      object-fit: cover;
      z-index: 10;
    }

    /* Vertical video constraints */
    .mobile-stream-video {
      width: 100%;
      height: 100%;
      aspect-ratio: 9/16;
      object-fit: cover;
    }
  }

  /* Landscape orientation for mobile */
  @media (max-width: 768px) and (orientation: landscape) {
    .mobile-video-container {
      width: 100vw;
      height: 100vh;
    }

    /* Remote video fills screen horizontally */
    .mobile-video-remote {
      @apply absolute inset-0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      background: #000;
    }

    /* Local video PIP in corner */
    .mobile-video-local {
      @apply absolute top-4 right-4 w-32 h-24 rounded-lg overflow-hidden shadow-2xl border-2 border-white/20;
      aspect-ratio: 16/9;
      object-fit: cover;
      z-index: 10;
    }

    /* Horizontal video constraints */
    .mobile-stream-video {
      width: 100%;
      height: 100%;
      aspect-ratio: 16/9;
      object-fit: contain;
    }
  }

  /* Mobile video controls */
  .mobile-video-controls {
    @apply flex items-center justify-center gap-3 bg-black/40 backdrop-blur-md rounded-full px-6 py-3;
  }

  .mobile-video-control-btn {
    @apply w-14 h-14 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center transition-all hover:bg-white/30;
  }

  .mobile-video-control-btn.end-call {
    @apply bg-red-500/80 hover:bg-red-600;
  }

  /* Mobile glass card effect */
  .mobile-glass-card {
    @apply bg-black/40 backdrop-blur-md rounded-2xl border border-white/10;
  }

  /* Safe area padding for notched devices */
  .mobile-safe-top {
    padding-top: env(safe-area-inset-top, 20px);
  }

  .mobile-safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 20px);
  }

  /* Mobile live stream specific styles */
  .mobile-live-stream {
    @apply fixed inset-0 bg-black;
  }

  @media (max-width: 768px) {
    .mobile-live-stream video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Portrait video dimensions */
    @supports (aspect-ratio: 9/16) {
      .mobile-live-stream.portrait video {
        aspect-ratio: 9/16;
        width: 100vw;
        height: 100vh;
      }
    }

    /* Landscape video dimensions */
    @supports (aspect-ratio: 16/9) {
      .mobile-live-stream.landscape video {
        aspect-ratio: 16/9;
        width: 100vw;
        height: 100vh;
        object-fit: contain;
      }
    }
  }

  /* Mobile stream overlay positioning */
  .mobile-stream-overlay {
    @apply absolute top-4 left-4 z-30;
    max-width: 120px;
    max-height: 60px;
  }

  .mobile-stream-overlay img {
    @apply w-auto h-12 object-contain;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
  }
}

/* Mobile Modal / Bottom Sheet Styles */
.mobile-modal {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  background: white;
  border-radius: 24px 24px 0 0;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
  z-index: 50;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.mobile-modal-handle {
  width: 36px;
  height: 4px;
  background: #d1d5db;
  border-radius: 2px;
  margin: 12px auto 8px;
  flex-shrink: 0;
}

.mobile-modal-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  padding: 0 20px 20px;
  max-height: calc(90vh - 80px);
}

/* Dark mode support for mobile modal */
@media (prefers-color-scheme: dark) {
  .mobile-modal {
    background: #1f2937;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
  }

  .mobile-modal-handle {
    background: #4b5563;
  }
}